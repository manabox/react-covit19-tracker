import{j as h,L as g,r as c,B as S,R as f,a as y,b}from"./vendor.63e213bf.js";const v=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerpolicy&&(l.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?l.credentials="include":t.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(t){if(t.ep)return;t.ep=!0;const l=o(t);fetch(t.href,l)}};v();var D=[{Country:"Japan",Slug:"japan"},{Country:"Austria",Slug:"austria"},{Country:"Belgium",Slug:"belgium"},{Country:"Bulgaria",Slug:"bulgaria"},{Country:"Croatia",Slug:"croatia"},{Country:"Czech Republic",Slug:"czech-republic"},{Country:"Denmark",Slug:"denmark"},{Country:"Estonia",Slug:"estonia"},{Country:"Finland",Slug:"finland"},{Country:"France",Slug:"france"},{Country:"Germany",Slug:"germany"},{Country:"Greece",Slug:"greece"},{Country:"Hungary",Slug:"hungary"},{Country:"Ireland",Slug:"ireland"},{Country:"Italy",Slug:"italy"},{Country:"Latvia",Slug:"latvia"},{Country:"Lithuania",Slug:"lithuania"},{Country:"Luxembourg",Slug:"luxembourg"},{Country:"Netherlands",Slug:"netherlands"},{Country:"Poland",Slug:"poland"},{Country:"Portugal",Slug:"portugal"},{Country:"Spain",Slug:"spain"},{Country:"Sweden",Slug:"sweden"},{Country:"United Kingdom",Slug:"united-kingdom"},{Country:"Switzerland",Slug:"switzerland"},{Country:"Canada",Slug:"canada"},{Country:"Brazil",Slug:"brazil"},{Country:"India",Slug:"india"},{Country:"Philippines",Slug:"philippines"},{Country:"Singapore",Slug:"singapore"},{Country:"Korea (South)",Slug:"korea-south"},{Country:"Indonesia",Slug:"indonesia"},{Country:"Viet Nam",Slug:"vietnam"},{Country:"Thailand",Slug:"thailand"},{Country:"China",Slug:"china"},{Country:"Malaysia",Slug:"malaysia"}];const e=h.exports.jsx,i=h.exports.jsxs,C=()=>i("div",{className:"menu",children:[e(g,{to:"/",className:"btn",children:"Each Country"}),e(g,{to:"/world",className:"btn",children:"World"})]}),m=()=>e("h1",{children:"Covid-19 Tracker"}),w=({setCountry:a,countriesJson:n})=>e("div",{className:"selector",children:e("select",{onChange:o=>a(o.target.value),children:n.map((o,u)=>e("option",{value:o.Slug,children:o.Country},u))})}),x=()=>e("tbody",{children:e("tr",{children:e("td",{children:e("div",{class:"loader"})})})}),L=({countryData:a,loading:n})=>{const{date:o,newConfirmed:u,totalConfirmed:t,newDeaths:l,totalDeaths:s}=a;return e("table",{className:"results",children:n?e(x,{}):i("tbody",{children:[i("tr",{children:[e("td",{children:"Date"}),e("td",{children:o.slice(0,10)})]}),i("tr",{children:[e("td",{children:"New Confirmed"}),e("td",{children:u.toLocaleString()})]}),i("tr",{children:[e("td",{children:"Total Confirmed"}),e("td",{children:t.toLocaleString()})]}),i("tr",{children:[e("td",{children:"New Deaths"}),e("td",{children:l.toLocaleString()})]}),i("tr",{children:[e("td",{children:"Total Deaths"}),e("td",{children:s.toLocaleString()})]})]})})},N=({countriesJson:a,setCountry:n,countryData:o,loading:u})=>i("div",{children:[e(C,{}),e(m,{}),e(w,{countriesJson:a,setCountry:n}),e(L,{countryData:o,loading:u})]}),j=({allCountriesData:a})=>e("div",{className:"flex",children:a.map((n,o)=>e("table",{className:"results",children:i("tbody",{children:[e("tr",{children:e("td",{colSpan:"2",className:"tdcenter",children:e("h2",{children:n.Country})})}),i("tr",{children:[e("td",{children:"New Confirmed"}),e("td",{children:n.NewConfirmed.toLocaleString()})]}),i("tr",{children:[e("td",{children:"Total Confirmed"}),e("td",{children:n.TotalConfirmed.toLocaleString()})]})]})},o))}),E=({allCountriesData:a})=>i("div",{children:[e(C,{}),e(m,{}),e(j,{allCountriesData:a})]});function R(){const[a,n]=c.exports.useState(!1),[o,u]=c.exports.useState("japan"),[t,l]=c.exports.useState({date:"",newConfirmed:"",totalConfirmed:"",newDeaths:"",totalDeaths:""}),[s,p]=c.exports.useState([]);return c.exports.useEffect(()=>{(()=>{n(!0),fetch(`https://api.covid19api.com/country/${o}`).then(r=>r.json()).then(r=>{l({date:r[r.length-1].Date,newConfirmed:r[r.length-1].Confirmed-r[r.length-2].Confirmed,totalConfirmed:r[r.length-1].Confirmed,newDeaths:r[r.length-1].Deaths-r[r.length-2].Deaths,totalDeaths:r[r.length-1].Deaths}),n(!1)}).catch(r=>alert("Error!"))})()},[o]),c.exports.useEffect(()=>{fetch("https://api.covid19api.com/summary").then(d=>d.json()).then(d=>p(d.Countries)).catch(d=>alert("Error!"))},[]),e(S,{children:i(f,{children:[e(y,{exact:!0,path:"/",element:e(N,{countriesJson:D,setCountry:u,countryData:t,loading:a})}),e(y,{exact:!0,path:"/world",element:e(E,{allCountriesData:s})})]})})}b.render(e(R,{}),document.getElementById("root"));
